Feature: UI для выделения и воспроизведения фрагментов
  Как пользователь приложения
  Я хочу выделять временные интервалы и воспроизводить их
  Чтобы эффективно работать с аудио-файлами

  Background:
    Given Flask приложение запущено

  Scenario: Выделение региона мышью доступно
    When я открываю главную страницу "/"
    Then wavesurfer должен быть инициализирован с dragSelection: true
    And должен быть подключен файл "selection-tool.js"

  Scenario: Отображение start/end времени выделенного региона
    When я открываю главную страницу "/"
    Then должен быть элемент для отображения времени региона
    And элемент должен показывать start и end время

  Scenario: Кнопка Play Selection воспроизводит выделенный участок
    When я открываю главную страницу "/"
    Then должна быть кнопка "Play Selection"
    And кнопка должна иметь обработчик для воспроизведения региона

  Scenario: Кнопка Clear Selection сбрасывает выделение
    When я открываю главную страницу "/"
    Then должна быть кнопка "Clear Selection"
    And кнопка должна иметь обработчик для очистки регионов

  Scenario: Отображение спектрограммы для выделенного региона
    When я открываю главную страницу "/"
    Then должен быть элемент для отображения спектрограммы региона
    And должна быть функция для загрузки спектрограммы региона

  Scenario: Горячая клавиша Space для play/pause
    When я открываю главную страницу "/"
    Then должен быть обработчик события keydown для клавиши Space
    And обработчик должен вызывать play/pause wavesurfer

  Scenario: Zoom на выделенный регион
    When я открываю главную страницу "/"
    Then должна быть функция для zoom на выделенный регион
    And функция должна использовать start и end региона

  Scenario: Selection Tool учитывает наличие плагина regions
    When я открываю главную страницу "/"
    Then скрипт selection-tool должен проверять доступность плагина regions перед вызовами




