Feature: Предотвращение наложения регионов

  Scenario: Drag selection имеет голубой полупрозрачный цвет
    Given audio-player.js содержит конфигурацию regions plugin
    When я проверяю параметр dragSelection.color
    Then цвет должен быть голубым полупрозрачным rgba с alpha < 0.5

  Scenario: Аннотации имеют красный полупрозрачный цвет
    Given annotation-list.js содержит функцию getAnnotationColor
    When я проверяю возвращаемый цвет по умолчанию
    Then цвет должен быть красным полупрозрачным rgba с alpha < 0.5

  Scenario: Проверка пересечения регионов при создании
    Given существует функция для проверки пересечений
    When я проверяю два региона [0, 10] и [5, 15]
    Then функция должна вернуть true (есть пересечение)

  Scenario: Отсутствие пересечения регионов
    Given существует функция для проверки пересечений
    When я проверяю два региона [0, 10] и [11, 20]
    Then функция должна вернуть false (нет пересечения)

  Scenario: Обработчик region-created корректирует границы при пересечении
    Given существует обработчик события region-created
    When создается новый регион
    Then обработчик должен проверить пересечения с существующими регионами
    And скорректировать границы региона чтобы избежать пересечения
    And удалить регион если он меньше минимального размера (1 секунда)

  Scenario: Обработчик region-updated корректирует границы динамически
    Given существует обработчик события region-updated
    When регион изменяется через drag или resize
    Then обработчик должен динамически корректировать границы
    And предотвращать бесконечный цикл обновлений

